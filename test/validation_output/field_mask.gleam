//// Generated by Protozoa from google/protobuf/field_mask.proto
//// 
//// This file is auto-generated and can be safely deleted and regenerated.
//// To regenerate all proto files, run: gleam run -m protozoa
//// 
//// DO NOT EDIT THIS FILE MANUALLY - all changes will be lost on regeneration.

import gleam/list
import protozoa/decode
import protozoa/encode

pub type FieldMask {
  FieldMask(paths: List(String))
}

pub fn encode_fieldmask(fieldmask: FieldMask) -> BitArray {
  let paths_fields =
    list.map(fieldmask.paths, fn(v) { encode.string_field(1, v) })
  encode.message(paths_fields)
}

pub fn fieldmask_decoder() -> decode.Decoder(FieldMask) {
  use paths <- decode.then(decode.repeated_string(1))
  decode.success(FieldMask(paths: paths))
}

pub fn decode_fieldmask(
  data: BitArray,
) -> Result(FieldMask, List(decode.DecodeError)) {
  decode.run(data, fieldmask_decoder())
}
