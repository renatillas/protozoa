//// Generated by Protozoa from google/protobuf/duration.proto
//// 
//// This file is auto-generated and can be safely deleted and regenerated.
//// To regenerate all proto files, run: gleam run -m protozoa
//// 
//// DO NOT EDIT THIS FILE MANUALLY - all changes will be lost on regeneration.

import protozoa/decode
import protozoa/encode

pub type Duration {
  Duration(seconds: Int, nanos: Int)
}

pub fn encode_duration(duration: Duration) -> BitArray {
  encode.message([
    encode.int64_field(1, duration.seconds),
    encode.int32_field(2, duration.nanos),
  ])
}

pub fn duration_decoder() -> decode.Decoder(Duration) {
  use seconds <- decode.then(decode.int64_with_default(1, 0))
  use nanos <- decode.then(decode.int32_with_default(2, 0))
  decode.success(Duration(seconds: seconds, nanos: nanos))
}

pub fn decode_duration(
  data: BitArray,
) -> Result(Duration, List(decode.DecodeError)) {
  decode.run(data, duration_decoder())
}
